document.addEventListener("DOMContentLoaded", function() {
    const domainGrid = document.getElementById("domain-grid");

    fetch('data/domains.json')
        .then(response => response.json())
        .then(domains => {
            domains.forEach(domain => {
                const domainItem = createDomainItem(domain);
                domainGrid.appendChild(domainItem);
            });
        })
        .catch(error => console.error('Error loading domains:', error));

    function createDomainItem(domain) {
        const div = document.createElement("div");
        div.className = "domain-item";

        const img = document.createElement("img");
        img.src = domain.imageUrl;
        img.alt = `${domain.domainName} thumbnail`;
        img.className = "lazy-image";
        div.appendChild(img);

        const h2 = document.createElement("h2");
        h2.textContent = domain.domainName;
        div.appendChild(h2);

        const p = document.createElement("p");
        p.className = "price";
        p.textContent = `$${domain.price}`;
        div.appendChild(p);

        const a = document.createElement("a");
        a.href = `domains/${domain.domainName}.html`;
        a.className = "buy-button";
        a.textContent = "View Details";
        div.appendChild(a);

        return div;
    }
});